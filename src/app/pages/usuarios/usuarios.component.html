<div class="component">
    <div class="w-100 d-flex justify-content-between">
        <h2>Usuarios</h2>
        <div>
            <div *ngIf="!usuarios.length" class="spinner-border text-primary" role="status">
                <span class="sr-only">Loading...</span>
            </div>
            <button (click)="nuevoUsuario()" class="m-3 btn btn-primary">Registrar nuevo usuario</button>
            <!-- <input placeholder="Buscar usuario" class="m-3" type="text"> -->
        </div>
    </div>
    <div style="background-color: white;">
        <table class="table">
            <thead>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Email</th>
                <th>Tipo de usuario</th>
            </thead>
            <tbody>
                <tr *ngFor="let usuario of usuarios">
                    <td>{{usuario.nombre}}</td>
                    <td>{{usuario.apellido}}</td>
                    <td>{{usuario.email}}</td>
                    <td>{{usuario.tipoUsuario}}</td>
                    <!-- <td class="acciones">
                        <div (click)="verUsuario(usuario)">
                            <span class="icono mdi mdi-pencil"></span>
                        </div>
                        <div>
                            <span class="icono delete mdi mdi-trash-can"></span>
                        </div>
                    </td> -->
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div [ngStyle]="{'background': showModal ? 'rgba(0, 0, 0, 0.295)':'', 'z-index': showModal ? '99': '-99'}"
    class="wrapper">
    <div *ngIf="showModal" class="animate__animated animate__fadeInDown custom-modal">
        <h2>{{accion}} usuario</h2>
        <div class="fields">
            <div class="field">
                <label for="">Nombre </label>
                <br>
                <input type="text" [(ngModel)]="usuario.nombre">
            </div>
            <div class="field">
                <label for="">Apellido </label>
                <br>
                <input type="text" [(ngModel)]="usuario.apellido">
            </div>
            <div class="field">
                <label for="">Email </label>
                <br>
                <input type="text" [(ngModel)]="usuario.email">
            </div>
            <div *ngIf="accion==='Registrar nuevo'" class="field">
                <label for="">Contrase√±a </label>
                <br>
                <input type="text" [(ngModel)]="usuario.password">
            </div>
        </div>
        <div class="d-flex justify-content-end">
            <button (click)="cancelar()" style="background: rgb(231, 231, 231); color: #007bff;"
                class="m-2 btn">Cancelar</button>

            <button (click)="registrar()" *ngIf="accion==='Registrar nuevo'"
                class="m-2 btn btn-primary">Registrar</button>

            <button *ngIf="accion==='Modificar'" class="m-2 btn btn-primary">Actualizar</button>
        </div>
    </div>
</div>