<div class="component">
    <div class="w-100 d-flex justify-content-between">
        <h2>Usuarios</h2>
        <div>
            <button (click)="nuevoProducto()" class="m-3 btn btn-primary">Registrar nuevo producto</button>
            <input placeholder="Buscar producto" class="m-3" type="text">
        </div>
    </div>
    <div class="flex-contenedor">
        <app-producto-lista class="animate__animated animate__fadeIn"
            [producto]="producto" *ngFor="let producto of productos">
        </app-producto-lista>
    </div>
</div>

<div [ngStyle]="{'background': showModal ? 'rgba(0, 0, 0, 0.295)':'', 'z-index': showModal ? '99': '-99'}"
    class="wrapper">
    <div [ngStyle]="{'transform': showModal ? 'scale(1)' : 'scale(0)'}" class="custom-modal">
        <h2>{{accion}} producto</h2>
        <div class="fields">
            <div class="field">
                <label for="">Nombre </label>
                <br>
                <input [(ngModel)]="producto.nombre" type="text">
            </div>
            <div class="field">
                <label for="">Descripcion </label>
                <br>
                <input [(ngModel)]="producto.descripcion" type="text">
            </div>
            <div class="field">
                <label for="">Marca </label>
                <br>
                <input [(ngModel)]="producto.marca" type="text">
            </div>
            <div class="field">
                <label for="">Precio </label>
                <br>
                <input [(ngModel)]="producto.precio" type="text">
            </div>
            <div class="field">
                <label for="">En existencia </label>
                <br>
                <input [(ngModel)]="producto.enExistenciaDisponibles" type="text">
            </div>
            <div class="field">
                <label for="">Cargar imagen </label>
                <br>
                <input (change)="onFileSelected($event)" type="file">
            </div>
        </div>
        <div class="d-flex justify-content-end">
            <button (click)="cancelar()" style="background: rgb(231, 231, 231); color: #007bff;"
                class="m-2 btn">Cancelar</button>
            <button (click)="registrarProducto()" *ngIf="accion==='Registrar nuevo'"
                class="m-2 btn btn-primary">Registrar</button>
            <button *ngIf="accion==='Modificar'" class="m-2 btn btn-primary">Actualizar</button>
        </div>
    </div>
</div>